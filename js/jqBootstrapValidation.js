(function($){var v=[];var w={options:{prependExistingHelpBlock:false,sniffHtml:true,preventSubmit:true,submitError:false,submitSuccess:false,semanticallyStrict:false,autoAdd:{helpBlocks:true},filter:function(){return true}},methods:{init:function(r){var s=$.extend(true,{},w);s.options=$.extend(true,s.options,r);var t=this;var u=$.unique(t.map(function(){return $(this).parents("form")[0]}).toArray());$(u).bind("submit",function(e){var c=$(this);var d=0;var f=c.find("input,textarea,select").not("[type=submit],[type=image]").filter(s.options.filter);f.trigger("submit.validation").trigger("validationLostFocus.validation");f.each(function(i,a){var b=$(a),$controlGroup=b.parents(".form-group, .checkbox").first();if($controlGroup.hasClass("warning")){$controlGroup.removeClass("warning").addClass("error");d++}});f.trigger("validationLostFocus.validation");if(d){if(s.options.preventSubmit){e.preventDefault()}c.addClass("error");if($.isFunction(s.options.submitError)){s.options.submitError(c,e,f.jqBootstrapValidation("collectErrors",true))}}else{c.removeClass("error");if($.isFunction(s.options.submitSuccess)){s.options.submitSuccess(c,e)}}});return this.each(function(){var k=$(this),$controlGroup=k.parents(".form-group, .checkbox").first(),$helpBlock=$controlGroup.find(".help-block").first(),$form=k.parents("form").first(),validatorNames=[];if(!$helpBlock.length&&s.options.autoAdd&&s.options.autoAdd.helpBlocks){$helpBlock=$('<div class="help-block" />');$controlGroup.append($helpBlock);v.push($helpBlock[0])}if(s.options.sniffHtml){var l="";if(k.attr("pattern")!==undefined){l="Not in the expected format<!-- data-validation-pattern-message to override -->";if(k.data("validationPatternMessage")){l=k.data("validationPatternMessage")}k.data("validationPatternMessage",l);k.data("validationPatternRegex",k.attr("pattern"))}if(k.attr("max")!==undefined||k.attr("aria-valuemax")!==undefined){var m=(k.attr("max")!==undefined?k.attr("max"):k.attr("aria-valuemax"));l="Too high: Maximum of '"+m+"'<!-- data-validation-max-message to override -->";if(k.data("validationMaxMessage")){l=k.data("validationMaxMessage")}k.data("validationMaxMessage",l);k.data("validationMaxMax",m)}if(k.attr("min")!==undefined||k.attr("aria-valuemin")!==undefined){var n=(k.attr("min")!==undefined?k.attr("min"):k.attr("aria-valuemin"));l="Too low: Minimum of '"+n+"'<!-- data-validation-min-message to override -->";if(k.data("validationMinMessage")){l=k.data("validationMinMessage")}k.data("validationMinMessage",l);k.data("validationMinMin",n)}if(k.attr("maxlength")!==undefined){l="Too long: Maximum of '"+k.attr("maxlength")+"' characters<!-- data-validation-maxlength-message to override -->";if(k.data("validationMaxlengthMessage")){l=k.data("validationMaxlengthMessage")}k.data("validationMaxlengthMessage",l);k.data("validationMaxlengthMaxlength",k.attr("maxlength"))}if(k.attr("minlength")!==undefined){l="Too short: Minimum of '"+k.attr("minlength")+"' characters<!-- data-validation-minlength-message to override -->";if(k.data("validationMinlengthMessage")){l=k.data("validationMinlengthMessage")}k.data("validationMinlengthMessage",l);k.data("validationMinlengthMinlength",k.attr("minlength"))}if(k.attr("required")!==undefined||k.attr("aria-required")!==undefined){l=s.builtInValidators.required.message;if(k.data("validationRequiredMessage")){l=k.data("validationRequiredMessage")}k.data("validationRequiredMessage",l)}if(k.attr("type")!==undefined&&k.attr("type").toLowerCase()==="number"){l=s.builtInValidators.number.message;if(k.data("validationNumberMessage")){l=k.data("validationNumberMessage")}k.data("validationNumberMessage",l)}if(k.attr("type")!==undefined&&k.attr("type").toLowerCase()==="email"){l="Not a valid email address<!-- data-validator-validemail-message to override -->";if(k.data("validationValidemailMessage")){l=k.data("validationValidemailMessage")}else if(k.data("validationEmailMessage")){l=k.data("validationEmailMessage")}k.data("validationValidemailMessage",l)}if(k.attr("minchecked")!==undefined){l="Not enough options checked; Minimum of '"+k.attr("minchecked")+"' required<!-- data-validation-minchecked-message to override -->";if(k.data("validationMincheckedMessage")){l=k.data("validationMincheckedMessage")}k.data("validationMincheckedMessage",l);k.data("validationMincheckedMinchecked",k.attr("minchecked"))}if(k.attr("maxchecked")!==undefined){l="Too many options checked; Maximum of '"+k.attr("maxchecked")+"' required<!-- data-validation-maxchecked-message to override -->";if(k.data("validationMaxcheckedMessage")){l=k.data("validationMaxcheckedMessage")}k.data("validationMaxcheckedMessage",l);k.data("validationMaxcheckedMaxchecked",k.attr("maxchecked"))}}if(k.data("validation")!==undefined){validatorNames=k.data("validation").split(",")}$.each(k.data(),function(i,a){var b=i.replace(/([A-Z])/g,",$1").split(",");if(b[0]==="validation"&&b[1]){validatorNames.push(b[1])}});var o=validatorNames;var p=[];do{$.each(validatorNames,function(i,a){validatorNames[i]=x(a)});validatorNames=$.unique(validatorNames);p=[];$.each(o,function(i,c){if(k.data("validation"+c+"Shortcut")!==undefined){$.each(k.data("validation"+c+"Shortcut").split(","),function(a,b){p.push(b)})}else if(s.builtInValidators[c.toLowerCase()]){var d=s.builtInValidators[c.toLowerCase()];if(d.type.toLowerCase()==="shortcut"){$.each(d.shortcut.split(","),function(i,a){a=x(a);p.push(a);validatorNames.push(a)})}}});o=p}while(o.length>0)var q={};$.each(validatorNames,function(i,c){var d=k.data("validation"+c+"Message");var e=(d!==undefined);var f=false;d=(d?d:"'"+c+"' validation failed <!-- Add attribute 'data-validation-"+c.toLowerCase()+"-message' to input to change this message -->");$.each(s.validatorTypes,function(a,b){if(q[a]===undefined){q[a]=[]}if(!f&&k.data("validation"+c+x(b.name))!==undefined){q[a].push($.extend(true,{name:x(b.name),message:d},b.init(k,c)));f=true}});if(!f&&s.builtInValidators[c.toLowerCase()]){var g=$.extend(true,{},s.builtInValidators[c.toLowerCase()]);if(e){g.message=d}var h=g.type.toLowerCase();if(h==="shortcut"){f=true}else{$.each(s.validatorTypes,function(a,b){if(q[a]===undefined){q[a]=[]}if(!f&&h===a.toLowerCase()){k.data("validation"+c+x(b.name),g[b.name.toLowerCase()]);q[h].push($.extend(g,b.init(k,c)));f=true}})}}if(!f){$.error("Cannot find validation info for '"+c+"'")}});$helpBlock.data("original-contents",($helpBlock.data("original-contents")?$helpBlock.data("original-contents"):$helpBlock.html()));$helpBlock.data("original-role",($helpBlock.data("original-role")?$helpBlock.data("original-role"):$helpBlock.attr("role")));$controlGroup.data("original-classes",($controlGroup.data("original-clases")?$controlGroup.data("original-classes"):$controlGroup.attr("class")));k.data("original-aria-invalid",(k.data("original-aria-invalid")?k.data("original-aria-invalid"):k.attr("aria-invalid")));k.bind("validation.validation",function(d,e){var f=y(k);var g=[];$.each(q,function(b,c){if(f||f.length||(e&&e.includeEmpty)||(!!s.validatorTypes[b].blockSubmit&&e&&!!e.submitting)){$.each(c,function(i,a){if(s.validatorTypes[b].validate(k,f,a)){g.push(a.message)}})}});return g});k.bind("getValidators.validation",function(){return q});k.bind("submit.validation",function(){return k.triggerHandler("change.validation",{submitting:true})});k.bind(["keyup","focus","blur","click","keydown","keypress","change"].join(".validation ")+".validation",function(e,f){var g=y(k);var h=[];$controlGroup.find("input,textarea,select").each(function(i,b){var c=h.length;$.each($(b).triggerHandler("validation.validation",f),function(j,a){h.push(a)});if(h.length>c){$(b).attr("aria-invalid","true")}else{var d=k.data("original-aria-invalid");$(b).attr("aria-invalid",(d!==undefined?d:false))}});$form.find("input,select,textarea").not(k).not("[name=\""+k.attr("name")+"\"]").trigger("validationLostFocus.validation");h=$.unique(h.sort());if(h.length){$controlGroup.removeClass("success error").addClass("warning");if(s.options.semanticallyStrict&&h.length===1){$helpBlock.html(h[0]+(s.options.prependExistingHelpBlock?$helpBlock.data("original-contents"):""))}else{$helpBlock.html("<ul class=\"list-unstyled alert alert-warning\" role=\"alert\"><li>"+h.join("</li><li>")+"</li></ul>"+(s.options.prependExistingHelpBlock?$helpBlock.data("original-contents"):""))}}else{$controlGroup.removeClass("warning error success");if(g.length>0){$controlGroup.addClass("success")}$helpBlock.html($helpBlock.data("original-contents"))}if(e.type==="blur"){$controlGroup.removeClass("success")}});k.bind("validationLostFocus.validation",function(){$controlGroup.removeClass("success")})})},destroy:function(){return this.each(function(){var a=$(this),$controlGroup=a.parents(".form-group, .checkbox").first(),$helpBlock=$controlGroup.find(".help-block").first();a.unbind('.validation');$helpBlock.html($helpBlock.data("original-contents"));$controlGroup.attr("class",$controlGroup.data("original-classes"));a.attr("aria-invalid",a.data("original-aria-invalid"));$helpBlock.attr("role",a.data("original-role"));if(v.indexOf($helpBlock[0])>-1){$helpBlock.remove()}})},collectErrors:function(e){var f={};this.each(function(i,a){var b=$(a);var c=b.attr("name");var d=b.triggerHandler("validation.validation",{includeEmpty:true});f[c]=$.extend(true,d,f[c])});$.each(f,function(i,a){if(a.length===0){delete f[i]}});return f},hasErrors:function(){var b=[];this.each(function(i,a){b=b.concat($(a).triggerHandler("getValidators.validation")?$(a).triggerHandler("validation.validation",{submitting:true}):[])});return(b.length>0)},override:function(a){w=$.extend(true,w,a)}},validatorTypes:{callback:{name:"callback",init:function(a,b){return{validatorName:b,callback:a.data("validation"+b+"Callback"),lastValue:a.val(),lastValid:true,lastFinished:true}},validate:function(b,c,d){if(d.lastValue===c&&d.lastFinished){return!d.lastValid}if(d.lastFinished===true){d.lastValue=c;d.lastValid=true;d.lastFinished=false;var e=d;var f=b;executeFunctionByName(d.callback,window,b,c,function(a){if(e.lastValue===a.value){e.lastValid=a.valid;if(a.message){e.message=a.message}e.lastFinished=true;f.data("validation"+e.validatorName+"Message",e.message);setTimeout(function(){f.trigger("change.validation")},1)}})}return false}},ajax:{name:"ajax",init:function(a,b){return{validatorName:b,url:a.data("validation"+b+"Ajax"),lastValue:a.val(),lastValid:true,lastFinished:true}},validate:function(b,c,d){if(""+d.lastValue===""+c&&d.lastFinished===true){return d.lastValid===false}if(d.lastFinished===true){d.lastValue=c;d.lastValid=true;d.lastFinished=false;$.ajax({url:d.url,data:"value="+c+"&field="+b.attr("name"),dataType:"json",success:function(a){if(""+d.lastValue===""+a.value){d.lastValid=!!(a.valid);if(a.message){d.message=a.message}d.lastFinished=true;b.data("validation"+d.validatorName+"Message",d.message);setTimeout(function(){b.trigger("change.validation")},1)}},failure:function(){d.lastValid=true;d.message="ajax call failed";d.lastFinished=true;b.data("validation"+d.validatorName+"Message",d.message);setTimeout(function(){b.trigger("change.validation")},1)}})}return false}},regex:{name:"regex",init:function(a,b){return{regex:regexFromString(a.data("validation"+b+"Regex"))}},validate:function(a,b,c){return(!c.regex.test(b)&&!c.negative)||(c.regex.test(b)&&c.negative)}},required:{name:"required",init:function(a,b){return{}},validate:function(a,b,c){return!!(b.length===0&&!c.negative)||!!(b.length>0&&c.negative)},blockSubmit:true},match:{name:"match",init:function(a,b){var c=a.parents("form").first().find("[name=\""+a.data("validation"+b+"Match")+"\"]").first();c.bind("validation.validation",function(){a.trigger("change.validation",{submitting:true})});return{"element":c}},validate:function(a,b,c){return(b!==c.element.val()&&!c.negative)||(b===c.element.val()&&c.negative)},blockSubmit:true},max:{name:"max",init:function(a,b){return{max:a.data("validation"+b+"Max")}},validate:function(a,b,c){return(parseFloat(b,10)>parseFloat(c.max,10)&&!c.negative)||(parseFloat(b,10)<=parseFloat(c.max,10)&&c.negative)}},min:{name:"min",init:function(a,b){return{min:a.data("validation"+b+"Min")}},validate:function(a,b,c){return(parseFloat(b)<parseFloat(c.min)&&!c.negative)||(parseFloat(b)>=parseFloat(c.min)&&c.negative)}},maxlength:{name:"maxlength",init:function(a,b){return{maxlength:a.data("validation"+b+"Maxlength")}},validate:function(a,b,c){return((b.length>c.maxlength)&&!c.negative)||((b.length<=c.maxlength)&&c.negative)}},minlength:{name:"minlength",init:function(a,b){return{minlength:a.data("validation"+b+"Minlength")}},validate:function(a,b,c){return((b.length<c.minlength)&&!c.negative)||((b.length>=c.minlength)&&c.negative)}},maxchecked:{name:"maxchecked",init:function(a,b){var c=a.parents("form").first().find("[name=\""+a.attr("name")+"\"]");c.bind("click.validation",function(){a.trigger("change.validation",{includeEmpty:true})});return{maxchecked:a.data("validation"+b+"Maxchecked"),elements:c}},validate:function(a,b,c){return(c.elements.filter(":checked").length>c.maxchecked&&!c.negative)||(c.elements.filter(":checked").length<=c.maxchecked&&c.negative)},blockSubmit:true},minchecked:{name:"minchecked",init:function(a,b){var c=a.parents("form").first().find("[name=\""+a.attr("name")+"\"]");c.bind("click.validation",function(){a.trigger("change.validation",{includeEmpty:true})});return{minchecked:a.data("validation"+b+"Minchecked"),elements:c}},validate:function(a,b,c){return(c.elements.filter(":checked").length<c.minchecked&&!c.negative)||(c.elements.filter(":checked").length>=c.minchecked&&c.negative)},blockSubmit:true}},builtInValidators:{email:{name:"Email",type:"shortcut",shortcut:"validemail"},validemail:{name:"Validemail",type:"regex",regex:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\.[A-Za-z]{2,10}",message:"Not a valid email address<!-- data-validator-validemail-message to override -->"},passwordagain:{name:"Passwordagain",type:"match",match:"password",message:"Does not match the given password<!-- data-validator-paswordagain-message to override -->"},positive:{name:"Positive",type:"shortcut",shortcut:"number,positivenumber"},negative:{name:"Negative",type:"shortcut",shortcut:"number,negativenumber"},number:{name:"Number",type:"regex",regex:"([+-]?\\\d+(\\\.\\\d*)?([eE][+-]?[0-9]+)?)?",message:"Must be a number<!-- data-validator-number-message to override -->"},integer:{name:"Integer",type:"regex",regex:"[+-]?\\\d+",message:"No decimal places allowed<!-- data-validator-integer-message to override -->"},positivenumber:{name:"Positivenumber",type:"min",min:0,message:"Must be a positive number<!-- data-validator-positivenumber-message to override -->"},negativenumber:{name:"Negativenumber",type:"max",max:0,message:"Must be a negative number<!-- data-validator-negativenumber-message to override -->"},required:{name:"Required",type:"required",message:"This is required<!-- data-validator-required-message to override -->"},checkone:{name:"Checkone",type:"minchecked",minchecked:1,message:"Check at least one option<!-- data-validation-checkone-message to override -->"}}};var x=function(c){return c.toLowerCase().replace(/(^|\s)([a-z])/g,function(m,a,b){return a+b.toUpperCase()})};var y=function(a){var b=a.val();var c=a.attr("type");if(c==="checkbox"){b=(a.is(":checked")?b:"")}if(c==="radio"){b=($('input[name="'+a.attr("name")+'"]:checked').length>0?b:"")}return b};function regexFromString(a){return new RegExp("^"+a+"$")}function executeFunctionByName(a,b){var c=Array.prototype.slice.call(arguments).splice(2);var d=a.split(".");var e=d.pop();for(var i=0;i<d.length;i++){b=b[d[i]]}return b[e].apply(this,c)}$.fn.jqBootstrapValidation=function(a){if(w.methods[a]){return w.methods[a].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof a==='object'||!a){return w.methods.init.apply(this,arguments)}else{$.error('Method '+a+' does not exist on jQuery.jqBootstrapValidation');return null}};$.jqBootstrapValidation=function(a){$(":input").not("[type=image],[type=submit]").jqBootstrapValidation.apply(this,arguments)}})(jQuery);